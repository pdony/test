"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.managerWebpack = managerWebpack;
exports.managerEntries = managerEntries;
exports.addons = addons;

var _loadCustomAddonsFile = _interopRequireDefault(require("../utils/load-custom-addons-file"));

var _managerWebpack = _interopRequireDefault(require("./manager-webpack.config"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

async function managerWebpack(_, options) {
  return (0, _managerWebpack.default)(options);
}

async function managerEntries(_, options) {
  const {
    presets
  } = options;
  const entries = [];
  const installedAddons = await presets.apply('addons', [], options);

  if (installedAddons && installedAddons.length) {
    entries.push(...installedAddons);
  }

  entries.push(require.resolve('../../client/manager'));
  return entries;
}

async function addons(_, options) {
  return (0, _loadCustomAddonsFile.default)(options);
}